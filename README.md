# üß± Project Template

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –ª—é–±–æ–≥–æ —è–∑—ã–∫–∞ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–æ–¥—Ö–æ–¥ –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—á–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤ –∫–æ–¥–µ –∏ —Å–æ–±–ª—é–¥–∞—Ç—å –µ–¥–∏–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å Git.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project-template/
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .env.dev.example
‚îú‚îÄ‚îÄ .env.prod.example
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ ... (–∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞)
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ ... (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
```

### üîπ `src/`

–û—Å–Ω–æ–≤–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞.
–ó–¥–µ—Å—å —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∫–æ–¥, –º–æ–¥—É–ª–∏, –ø–∞–∫–µ—Ç—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∏ —Ç.–ø.).

> üí° –í—Å–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ `src/`. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Å–±–æ—Ä–∫–∏ –∏ –∫–æ—Ä–Ω–µ–≤—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏.

### üîπ `.env.example`, `.env.dev.example`, `.env.prod.example`

–§–∞–π–ª—ã-—à–∞–±–ª–æ–Ω—ã –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

* `.env.example` ‚Äî –æ–±—â–∏–π —à–∞–±–ª–æ–Ω –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö;
* `.env.dev.example` ‚Äî –ø—Ä–∏–º–µ—Ä –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏;
* `.env.prod.example` ‚Äî –ø—Ä–∏–º–µ—Ä –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

> –≠—Ç–∏ —Ñ–∞–π–ª—ã –ø–æ–º–æ–≥–∞—é—Ç –Ω–æ–≤—ã–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –±—ã—Å—Ç—Ä–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞.
> –°–∞–º–∏ `.env` —Ñ–∞–π–ª—ã (—Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏) **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Äî —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

### üîπ `.gitignore`

–§–∞–π–ª, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏ **–Ω–µ –¥–æ–ª–∂–Ω—ã** –ø–æ–ø–∞–¥–∞—Ç—å –≤ Git.
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ [toptal/gitignore](https://www.toptal.com/developers/gitignore) ‚Äî –≤—ã–±–µ—Ä–∏ —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—à—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Python`, `Node`, `Django`, `React`, `Docker` –∏ —Ç.–¥.).

> ‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:**
> –°—Ç—Ä–æ–∫–∏, –∫–∞—Å–∞—é—â–∏–µ—Å—è `.env` —Ñ–∞–π–ª–æ–≤, **—É–¥–∞–ª—è—Ç—å –Ω–µ–ª—å–∑—è**.
> –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–ø–∞–ª–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

### üîπ `docs/`

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, —Å—Ö–µ–º—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã.

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**

   ```bash
   git clone https://github.com/NIL-IT/project-template.git
   cd project-template
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è**

   ```bash
   cp .env.example .env
   ```

   –∏–ª–∏, –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–∫—Ä—É–∂–µ–Ω–∏–π:

   ```bash
   cp .env.dev.example .env
   ```

3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` –Ω—É–∂–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏**

   –ö–∞–∂–¥–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `DATABASE_URL`, `SECRET_KEY`, `DEBUG`, –∏ —Ç.–¥.).

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç**

   –≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ª—é–±–æ–≥–æ —è–∑—ã–∫–∞ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞.
   –î–ª—è –ø—Ä–∏–º–µ—Ä–∞:

   * **Python / Django:**

     ```bash
     pip install -r requirements.txt
     python manage.py runserver
     ```
   * **Node.js / React:**

     ```bash
     npm install
     npm start
     ```
   * **Go / Rust / Java / –∏ –¥—Ä.:**
     –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥ —Å–≤–æ–π —Å—Ç–µ–∫.

---

## üê≥ Docker-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–®–∞–±–ª–æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª—é–±–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —è–∑—ã–∫–∞ –∏–ª–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞.
–í—Å—ë —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ **`docker/`**, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç **Dockerfile**, **Compose-—Ñ–∞–π–ª—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π** –∏ **—Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞**.

---

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docker/`

```
docker/
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ compose/
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.base.yml
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.dev.override.yml
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.prod.override.yml
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.test.override.yml
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ dev.sh
    ‚îú‚îÄ‚îÄ entrypoint.sh
    ‚îú‚îÄ‚îÄ prod.sh
    ‚îî‚îÄ‚îÄ test.sh
```

---

### üß± Dockerfile

–§–∞–π–ª `docker/Dockerfile` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```dockerfile
FROM #–û–±—Ä–∞–∑

WORKDIR /app

COPY ./src ./src
COPY ./docker/scripts ./scripts

ENTRYPOINT ["sh", "./scripts/entrypoint.sh"]
```

#### üìò –ü–æ—è—Å–Ω–µ–Ω–∏—è:

* `FROM` ‚Äî —É–∫–∞–∂–∏ –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å—Ç–µ–∫:
  –Ω–∞–ø—Ä–∏–º–µ—Ä `python:3.12-slim`, `node:22`, `golang:1.22`, `openjdk:21` –∏ —Ç.–¥.
* `WORKDIR /app` ‚Äî —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
* `COPY ./src ./src` ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.
* `COPY ./docker/scripts ./scripts` ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã.
* `ENTRYPOINT` ‚Äî –∑–∞–¥–∞—ë—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –≤—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç `entrypoint.sh`.

---

### ‚öôÔ∏è entrypoint.sh

```bash
#!/bin/sh

cd /app

exec "$@"
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —á—Ç–æ–±—ã:

* –∑–∞–¥–∞—Ç—å —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é;
* –ø–µ—Ä–µ–¥–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–π –∫–æ–º–∞–Ω–¥–µ (`CMD` –∏–ª–∏ `command` –∏–∑ Compose);
* —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–æ –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö.

---

## üß© Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í—Å–µ Compose-—Ñ–∞–π–ª—ã –ª–µ–∂–∞—Ç –≤ `docker/compose/` –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.

---

### üîπ `docker-compose.base.yml`

–ë–∞–∑–æ–≤—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

üß† **–ó–∞—á–µ–º –Ω—É–∂–µ–Ω –±–∞–∑–æ–≤—ã–π —Ñ–∞–π–ª:**
–û–Ω –∑–∞–¥–∞—ë—Ç –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`dev`, `test`, `prod`) –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞, –ø–æ—Ä—Ç—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Ç.–ø.

---

### üîπ `docker-compose.dev.override.yml`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**.
–î–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–º–∞, dev-–∫–æ–º–∞–Ω–¥—É, dev-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç `.env.dev`.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

* –≥–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ —Ç–æ–º–∞ (`src` –∏ `logs`);
* —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (`DEBUG=True`);
* –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env.dev`.

---

### üîπ `docker-compose.prod.override.yml`

–î–ª—è **–ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**, —Å –±–æ–µ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

* —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –±–∏–ª–¥ –±–µ–∑ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π;
* —Å—Ç—Ä–æ–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`DEBUG=False`);
* –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `prod.sh`.

---

### üîπ `docker-compose.test.override.yml`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **CI/CD –∏–ª–∏ –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏**

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

* –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤;
* –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤ GitLab CI, GitHub Actions –∏ –¥—Ä.;
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è `.env.test`.

---

## üß† –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞

–í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `docker/scripts/` –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

| –°–∫—Ä–∏–ø—Ç          | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                     |
| --------------- | -------------------------------------------------------------- |
| `entrypoint.sh` | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ `CMD`)                       |
| `dev.sh`        | –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Å hot reload) |
| `prod.sh`       | –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ                               |
| `test.sh`       | –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≥–æ–Ω–∫–∏ —Ç–µ—Å—Ç–æ–≤                                    |

---

## üß© Root Compose –∏ Makefile

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã **–æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–µ Compose-—Ñ–∞–π–ª—ã** –∏ **Makefile**.
–û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω—É–∂–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –æ–¥–Ω–æ–π –∫–æ—Ä–æ—Ç–∫–æ–π –∫–æ–º–∞–Ω–¥–æ–π, –±–µ–∑ –¥–ª–∏–Ω–Ω—ã—Ö –ø—É—Ç–µ–π –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ñ–ª–∞–≥–æ–≤.

---

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
project-template/
‚îú‚îÄ‚îÄ Makefile
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ compose/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.base.yml
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.dev.override.yml
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.prod.override.yml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.test.override.yml
‚îÇ   ‚îî‚îÄ‚îÄ scripts/
‚îÇ       ‚îú‚îÄ‚îÄ dev.sh
‚îÇ       ‚îú‚îÄ‚îÄ entrypoint.sh
‚îÇ       ‚îú‚îÄ‚îÄ prod.sh
‚îÇ       ‚îî‚îÄ‚îÄ test.sh
‚îú‚îÄ‚îÄ docker-compose.dev.yml
‚îú‚îÄ‚îÄ docker-compose.prod.yml
‚îú‚îÄ‚îÄ docker-compose.test.yml
‚îî‚îÄ‚îÄ src/
```

---

## ‚öôÔ∏è Root Compose-—Ñ–∞–π–ª—ã

–§–∞–π–ª—ã `docker-compose.dev.yml`, `docker-compose.test.yml` –∏ `docker-compose.prod.yml` –Ω–∞—Ö–æ–¥—è—Ç—Å—è **–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**.
–û–Ω–∏ —Å–ª—É–∂–∞—Ç –¥–ª—è **–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ Compose –∏ –Ω—É–∂–Ω—ã—Ö override-—Ñ–∞–π–ª–æ–≤**, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.

---

### üîπ –ü—Ä–∏–º–µ—Ä `docker-compose.dev.yml`

```yaml
include:
  - path:
      - ./docker/compose/docker-compose.base.yml
      - ./docker/compose/docker-compose.dev.override.yml
```

> ‚ö°Ô∏è –ë–ª–∞–≥–æ–¥–∞—Ä—è –¥–∏—Ä–µ–∫—Ç–∏–≤–µ `include:` (–¥–æ—Å—Ç—É–ø–Ω–∞ —Å **Docker Compose v2.20+**) –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Compose-—Ñ–∞–π–ª–æ–≤ –≤ –æ–¥–∏–Ω, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é —É–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–ª–∞–≥–∏ `-f`.

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —É—Å—Ç—Ä–æ–µ–Ω—ã:

* `docker-compose.prod.yml`
  ‚Üí –≤–∫–ª—é—á–∞–µ—Ç `docker-compose.base.yml` + `docker-compose.prod.override.yml`
* `docker-compose.test.yml`
  ‚Üí –≤–∫–ª—é—á–∞–µ—Ç `docker-compose.base.yml` + `docker-compose.test.override.yml`

---

## üß∞ Makefile

–î–ª—è –µ—â—ë –±–æ–ª—å—à–µ–π —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Makefile**.
–û–Ω —Ö—Ä–∞–Ω–∏—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ –∞–ª–∏–∞—Å—ã –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å –ø—Ä–æ–µ–∫—Ç–æ–º.

### üîπ –ü—Ä–∏–º–µ—Ä Makefile

```makefile
.PHONY: up-dev down-dev up-test up-prod logs build clean

up-dev:
	docker compose -f docker-compose.dev.yml up --build

down-dev:
	docker compose -f docker-compose.dev.yml down

up-test:
	docker compose -f docker-compose.test.yml up --build

up-prod:
	docker compose -f docker-compose.prod.yml up -d --build

logs:
	docker compose logs -f

build:
	docker compose build

clean:
	docker system prune -af --volumes
```

–¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º:

```bash
make up-dev     # –ó–∞–ø—É—Å–∫ dev –æ–∫—Ä—É–∂–µ–Ω–∏—è
make up-test    # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make up-prod    # –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
make clean      # –û—á–∏—Å—Ç–∫–∞ Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

---

## üß± .dockerignore

–ß—Ç–æ–±—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–∞ –∏ –∏—Å–∫–ª—é—á–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã, –¥–æ–±–∞–≤—å `.dockerignore` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞.

–ü—Ä–∏–º–µ—Ä:

```
.git
.gitignore
.env
.env.*
!*.example
__pycache__/
node_modules/
venv/
*.log
*.pyc
.idea/
.vscode/
logs/
```

> üõ† –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å .dockerignore –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å
> [Dockerignore Generator ‚Äî datacraftsman.com.au](https://www.datacraftsman.com.au/tools/Dockerignore%20Generator)

---

## üß© –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

* –í—Å–µ Docker-–∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞**.
* –ü–∞–ø–∫–∞ `docker/` ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ª—é–±—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.
* –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Compose-—Ñ–∞–π–ª–æ–≤ –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º (base + override) –¥–µ–ª–∞–µ—Ç —à–∞–±–ª–æ–Ω –≥–∏–±–∫–∏–º –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º.
* –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (`redis`, `celery`, `nginx`, `worker` –∏ —Ç.–¥.) –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏–≤ –Ω–æ–≤—ã–µ override-—Ñ–∞–π–ª—ã.

---

## üåø –†–∞–±–æ—Ç–∞ —Å –≤–µ—Ç–∫–∞–º–∏

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [Gitflow Workflow](https://nvie.com/posts/a-successful-git-branching-model/).

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

* `main` ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞, –æ—Ç—Ä–∞–∂–∞—é—â–∞—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω;
* `develop` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏;
* `feature/*` ‚Äî –Ω–æ–≤—ã–µ —Ñ–∏—á–∏;
* `hotfix/*` ‚Äî —Å—Ä–æ—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞;
* `release/*` ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–µ–ª–∏–∑—É.

–ü—Ä–∏–º–µ—Ä:

```bash
git checkout develop
git checkout -b feature/add-user-api
# ... –∫–æ–¥ ...
git push origin feature/add-user-api
```

---
